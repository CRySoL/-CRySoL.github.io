---
migrated: node/934
layout: post
title: Nokia 6300 como módem para Debian (con simyo)
created: 1231987480
author: david_villa
category: recipe
tags:
- networking
- Debian
---
Esta receta explica cómo utilizar un móvil "Nokia 6300":http://nds1.nokia.com/phones/files/guides/Nokia_6300_UG_en.pdf  como módem para conectar un ordenador a Internet.


<!--break-->


h2. Ingredientes

* Un ordenador con USB (y/o bluetooth)
* Nokia 6300
* Un cable USB a mini-USB
* gnome-ppp

Muy recomendable contar con un SIM de una operadora que no te clave de lo lindo. Esta receta está probada con "simyo" aunque también he oido buenas referencias de "yoigo".

h2. Conectando el móvil con cable USB

Esta sección explica como conectar el móvil con un cable USB para utilizarlo como modem. Antes de nada (y cada vez que vayas a conectar con el móvil) debes tomar la precaución de desconectar y desactivar cualquier otra interfaz de red que tengas (Ethernet o WiFi) más que nada porque se puede hacer un lío con las rutas e incluso aunque tengas conexión, tu PC no sabrá cómo rutar el tráfico. Si necesitas información más precisa, consulta en la facultad de informática más cercana ;-)

h3. Conecta el cable USB al móvil y al ordenador.

El móvil dirá "Cable de datos USB conectado. Seleccionar Modo". Elige "modo Nokia"

h3. Instala y ejecuta @gnome-ppp@


<div class="console">
{% highlight console %}
# aptitude install gnome-ppp
{% endhighlight %}
</div>

@gnome-ppp@ necesita acceder al dispositivo USB, arrancar @pppd@ y algunas otras cosas que requieren ciertos privilegios. Lo puedes arreglar añadiendo tu usuario a los grupos @dialout@ y @dip@ pero la forma más sencilla es ejecutar:


<div class="console">
{% highlight console %}
$ sudo gnome-ppp
{% endhighlight %}
</div>

Sale una ventanita de configuración muy simple en la que debes introducir estos datos:

* *usuario:* 1234
* *contraseña:* 1234
* *Número de teléfono:* *99#

# Después pulsa el botón "Configuración" y aparecerá otra ventana con tres solapas. En la solapa "Módem":
## En el campo Tipo, elige "Módem USB" y pulsa el botón "Detectar".
## Pulsa el botón "Registro de inicio" 
## Pulsa al lado de la etiqueta "Init 3" y escribe:
 
<div>
{% highlight text %}
AT+CGDCONT=1; "IP","gprs-service.com"
{% endhighlight %}
</div>
 y pulsa Intro
## Pulsa "Cerrar"
# En la solapa "Opciones" marca "Minimizar" y "Mostrar en la barra de tareas"
# Pulsa "Cerrar"
# Pulsa "Conectar"

Si todo ha ido bien, el "Connection Log" debe tener algo similar a esto:



<div>
{% highlight text %}
--> Ignoring malformed input line: ";Do NOT edit this file by hand!"
--> WvDial: Internet dialer version 1.60
--> Cannot get information for serial port.
--> Initializing modem.
--> Sending: ATZ
ATZ
OK
--> Sending: ATQ0 V1 E1 S0=0 &C1 &D2 +FCLASS=0
ATQ0 V1 E1 S0=0 &C1 &D2 +FCLASS=0
OK
--> Sending: AT+CGDCONT=1,"IP","gprs-service.com"
AT+CGDCONT=1,"IP","gprs-service.com"
OK
--> Modem initialized.
--> Sending: ATM1L3DT*99#
--> Waiting for carrier.
ATM1L3DT*99#
CONNECT
~[7f]}#@!}!} } }2}#}$@#}!}$}%\}"}&} }*} } g}%~
--> Carrier detected.  Waiting for prompt.
~[7f]}#@!}!} } }2}#}$@#}!}$}%\}"}&} }*} } g}%~
--> PPP negotiation detected.
--> Starting pppd at Thu Jan 15 03:34:21 2009
--> Pid of pppd: 3668
--> Using interface ppp0
--> local  IP address 10.0.1.32
--> remote IP address 10.5.4.3
--> primary   DNS address 217.18.32.170
--> secondary DNS address 217.18.32.171
{% endhighlight %}
</div>


También puedes comprobar con @/sbin/ifconfig@ que tienes una interfaz de red que se llama @ppp0@ con la IP que dice ahí y la tabla de rutas con @/sbin/route@.

h3. Información de la conexión

El applet (con aspecto similar al @network-manager@) ofrece información interesante y permite desconectar cuando quieras. Para ejecutar @gnome-ppp@ cómodamente sin tener que abrir un terminal, puedes crear un lanzador que contenga en el campo comando:


<div>
{% highlight text %}
gksudo gnome-ppp
{% endhighlight %}
</div>


h2. Conectando el móvil con bluetooth

*[ToDo]*

h2. Referencias

* "Módem USB de Vodafone en Linux (III): Otras distros":http://www.kriptopolis.org/modem-usb-vodafone-linux-3
* "Internet SIMYO en linux con un Sony-Ericsson":http://jordiortiz.blogspot.com/2008/06/internet-simyo-en-linux-con-un-sony.html
* "The Nokia 6300 phone and linux":http://idefix.net/~koos/nokia-6300.html
* "Linux & Mobile (Cellular, Smart) Phones":http://tuxmobil.org/phones_linux.html
* <a href="http://ubuntuforums.org/showthread.php?t=754288">http://ubuntuforums.org/showthread.php?t=754288</a>
